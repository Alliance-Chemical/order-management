{
  "id": "157cd95b-bd38-468a-81fb-7855f62a4bcb",
  "prevId": "a8d6f87a-03ce-47eb-88e6-41ba34f1c464",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.freight_classifications": {
      "name": "freight_classifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nmfc_code": {
          "name": "nmfc_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "freight_class": {
          "name": "freight_class",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "is_hazmat": {
          "name": "is_hazmat",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hazmat_class": {
          "name": "hazmat_class",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "packing_group": {
          "name": "packing_group",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false
        },
        "packaging_instructions": {
          "name": "packaging_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "special_handling": {
          "name": "special_handling",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_density": {
          "name": "min_density",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_density": {
          "name": "max_density",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_classifications_description": {
          "name": "idx_classifications_description",
          "columns": [
            {
              "expression": "description",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classifications_nmfc": {
          "name": "idx_classifications_nmfc",
          "columns": [
            {
              "expression": "nmfc_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classifications_class": {
          "name": "idx_classifications_class",
          "columns": [
            {
              "expression": "freight_class",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_classifications_hazmat": {
          "name": "idx_classifications_hazmat",
          "columns": [
            {
              "expression": "is_hazmat",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_freight_class_key": {
          "name": "uq_freight_class_key",
          "columns": [
            {
              "expression": "freight_class",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "nmfc_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "description",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.freight_events": {
      "name": "freight_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "freight_order_id": {
          "name": "freight_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_description": {
          "name": "event_description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "performed_by": {
          "name": "performed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_event_freight_order_id": {
          "name": "idx_event_freight_order_id",
          "columns": [
            {
              "expression": "freight_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_type": {
          "name": "idx_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_performed_at": {
          "name": "idx_event_performed_at",
          "columns": [
            {
              "expression": "performed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "freight_events_freight_order_id_freight_orders_id_fk": {
          "name": "freight_events_freight_order_id_freight_orders_id_fk",
          "tableFrom": "freight_events",
          "tableTo": "freight_orders",
          "columnsFrom": [
            "freight_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.freight_orders": {
      "name": "freight_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "mycarrier_order_id": {
          "name": "mycarrier_order_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_number": {
          "name": "tracking_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "carrier_name": {
          "name": "carrier_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "service_type": {
          "name": "service_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_cost": {
          "name": "actual_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "origin_address": {
          "name": "origin_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "destination_address": {
          "name": "destination_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "package_details": {
          "name": "package_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "booking_status": {
          "name": "booking_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "booked_at": {
          "name": "booked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "shipped_at": {
          "name": "shipped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ai_suggestions": {
          "name": "ai_suggestions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "decision_source": {
          "name": "decision_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "telemetry_data": {
          "name": "telemetry_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "special_instructions": {
          "name": "special_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_freight_workspace_id": {
          "name": "idx_freight_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_freight_order_id": {
          "name": "idx_freight_order_id",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_freight_booking_status": {
          "name": "idx_freight_booking_status",
          "columns": [
            {
              "expression": "booking_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_freight_carrier": {
          "name": "idx_freight_carrier",
          "columns": [
            {
              "expression": "carrier_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "freight_orders_workspace_id_workspaces_id_fk": {
          "name": "freight_orders_workspace_id_workspaces_id_fk",
          "tableFrom": "freight_orders",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "freight_orders_order_id_unique": {
          "name": "freight_orders_order_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "order_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.freight_quotes": {
      "name": "freight_quotes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "freight_order_id": {
          "name": "freight_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "carrier_name": {
          "name": "carrier_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "service_type": {
          "name": "service_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "quoted_cost": {
          "name": "quoted_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "transit_time": {
          "name": "transit_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quote_reference": {
          "name": "quote_reference",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "raw_quote_data": {
          "name": "raw_quote_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_selected": {
          "name": "is_selected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "selected_at": {
          "name": "selected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "selected_by": {
          "name": "selected_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quote_freight_order_id": {
          "name": "idx_quote_freight_order_id",
          "columns": [
            {
              "expression": "freight_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quote_carrier": {
          "name": "idx_quote_carrier",
          "columns": [
            {
              "expression": "carrier_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quote_selected": {
          "name": "idx_quote_selected",
          "columns": [
            {
              "expression": "is_selected",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "freight_quotes_freight_order_id_freight_orders_id_fk": {
          "name": "freight_quotes_freight_order_id_freight_orders_id_fk",
          "tableFrom": "freight_quotes",
          "tableTo": "freight_orders",
          "columnsFrom": [
            "freight_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_freight_links": {
      "name": "product_freight_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "classification_id": {
          "name": "classification_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "override_freight_class": {
          "name": "override_freight_class",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "override_packaging": {
          "name": "override_packaging",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "link_source": {
          "name": "link_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "is_approved": {
          "name": "is_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_product_freight_product": {
          "name": "idx_product_freight_product",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_product_freight_classification": {
          "name": "idx_product_freight_classification",
          "columns": [
            {
              "expression": "classification_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_product_freight_approved": {
          "name": "idx_product_freight_approved",
          "columns": [
            {
              "expression": "is_approved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_product_freight_source": {
          "name": "idx_product_freight_source",
          "columns": [
            {
              "expression": "link_source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_product_classification": {
          "name": "uq_product_classification",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "classification_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_freight_links_product_id_products_id_fk": {
          "name": "product_freight_links_product_id_products_id_fk",
          "tableFrom": "product_freight_links",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_freight_links_classification_id_freight_classifications_id_fk": {
          "name": "product_freight_links_classification_id_freight_classifications_id_fk",
          "tableFrom": "product_freight_links",
          "tableTo": "freight_classifications",
          "columnsFrom": [
            "classification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_hazmat_overrides": {
      "name": "product_hazmat_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "un_number": {
          "name": "un_number",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "hazard_class": {
          "name": "hazard_class",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "packing_group": {
          "name": "packing_group",
          "type": "varchar(5)",
          "primaryKey": false,
          "notNull": false
        },
        "proper_shipping_name": {
          "name": "proper_shipping_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_hazmat": {
          "name": "is_hazmat",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_approved": {
          "name": "is_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_product_hazmat_product": {
          "name": "idx_product_hazmat_product",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_product_hazmat_override": {
          "name": "uq_product_hazmat_override",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_hazmat_overrides_product_id_products_id_fk": {
          "name": "product_hazmat_overrides_product_id_products_id_fk",
          "tableFrom": "product_hazmat_overrides",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sku": {
          "name": "sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "length": {
          "name": "length",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "packaging_type": {
          "name": "packaging_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "units_per_package": {
          "name": "units_per_package",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "unit_container_type": {
          "name": "unit_container_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_hazardous": {
          "name": "is_hazardous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cas_number": {
          "name": "cas_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "un_number": {
          "name": "un_number",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_products_sku": {
          "name": "idx_products_sku",
          "columns": [
            {
              "expression": "sku",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_name": {
          "name": "idx_products_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_active": {
          "name": "idx_products_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_hazardous": {
          "name": "idx_products_hazardous",
          "columns": [
            {
              "expression": "is_hazardous",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_cas": {
          "name": "idx_products_cas",
          "columns": [
            {
              "expression": "cas_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_sku_unique": {
          "name": "products_sku_unique",
          "nullsNotDistinct": false,
          "columns": [
            "sku"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.corrective_actions": {
      "name": "corrective_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "non_conformance_id": {
          "name": "non_conformance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "completed_by": {
          "name": "completed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effectiveness_check": {
          "name": "effectiveness_check",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effectiveness_date": {
          "name": "effectiveness_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_corrective_nonconf_id": {
          "name": "idx_corrective_nonconf_id",
          "columns": [
            {
              "expression": "non_conformance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corrective_status": {
          "name": "idx_corrective_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corrective_assigned_to": {
          "name": "idx_corrective_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corrective_due_date": {
          "name": "idx_corrective_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "corrective_actions_non_conformance_id_non_conformances_id_fk": {
          "name": "corrective_actions_non_conformance_id_non_conformances_id_fk",
          "tableFrom": "corrective_actions",
          "tableTo": "non_conformances",
          "columnsFrom": [
            "non_conformance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.non_conformances": {
      "name": "non_conformances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "issue_type": {
          "name": "issue_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discovered_by": {
          "name": "discovered_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "discovered_at": {
          "name": "discovered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_nonconf_workspace_id": {
          "name": "idx_nonconf_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nonconf_issue_type": {
          "name": "idx_nonconf_issue_type",
          "columns": [
            {
              "expression": "issue_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nonconf_severity": {
          "name": "idx_nonconf_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nonconf_status": {
          "name": "idx_nonconf_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nonconf_discovered_at": {
          "name": "idx_nonconf_discovered_at",
          "columns": [
            {
              "expression": "discovered_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "non_conformances_workspace_id_workspaces_id_fk": {
          "name": "non_conformances_workspace_id_workspaces_id_fk",
          "tableFrom": "non_conformances",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quality_records": {
      "name": "quality_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "check_type": {
          "name": "check_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "checked_by": {
          "name": "checked_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "checked_at": {
          "name": "checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quality_workspace_id": {
          "name": "idx_quality_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quality_check_type": {
          "name": "idx_quality_check_type",
          "columns": [
            {
              "expression": "check_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quality_result": {
          "name": "idx_quality_result",
          "columns": [
            {
              "expression": "result",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quality_checked_at": {
          "name": "idx_quality_checked_at",
          "columns": [
            {
              "expression": "checked_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quality_records_workspace_id_workspaces_id_fk": {
          "name": "quality_records_workspace_id_workspaces_id_fk",
          "tableFrom": "quality_records",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feature_flags": {
      "name": "feature_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rollout_percentage": {
          "name": "rollout_percentage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'::jsonb"
        },
        "enabled_for_users": {
          "name": "enabled_for_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "enabled_for_tenants": {
          "name": "enabled_for_tenants",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_feature_flags_name": {
          "name": "idx_feature_flags_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "feature_flags_name_unique": {
          "name": "feature_flags_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.outbox_events": {
      "name": "outbox_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "aggregate_id": {
          "name": "aggregate_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "aggregate_type": {
          "name": "aggregate_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_version": {
          "name": "event_version",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processing_attempts": {
          "name": "processing_attempts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'::jsonb"
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_outbox_processed": {
          "name": "idx_outbox_processed",
          "columns": [
            {
              "expression": "processed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_outbox_aggregate": {
          "name": "idx_outbox_aggregate",
          "columns": [
            {
              "expression": "aggregate_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "aggregate_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_outbox_event_type": {
          "name": "idx_outbox_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_outbox_idempotency": {
          "name": "idx_outbox_idempotency",
          "columns": [
            {
              "expression": "idempotency_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.activity_log": {
      "name": "activity_log",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "activity_type": {
          "name": "activity_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "activity_description": {
          "name": "activity_description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "module": {
          "name": "module",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_activity_workspace": {
          "name": "idx_activity_workspace",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_performed": {
          "name": "idx_activity_performed",
          "columns": [
            {
              "expression": "performed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_log_workspace_id_workspaces_id_fk": {
          "name": "activity_log_workspace_id_workspaces_id_fk",
          "tableFrom": "activity_log",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.alert_configs": {
      "name": "alert_configs",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sns_topic_arn": {
          "name": "sns_topic_arn",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "recipients": {
          "name": "recipients",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "trigger_conditions": {
          "name": "trigger_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "cooldown_minutes": {
          "name": "cooldown_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "last_triggered_at": {
          "name": "last_triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_count": {
          "name": "trigger_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_alert_workspace_id": {
          "name": "idx_alert_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alert_type": {
          "name": "idx_alert_type",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_configs_workspace_id_workspaces_id_fk": {
          "name": "alert_configs_workspace_id_workspaces_id_fk",
          "tableFrom": "alert_configs",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.alert_history": {
      "name": "alert_history",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alert_config_id": {
          "name": "alert_config_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_at": {
          "name": "triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "message_content": {
          "name": "message_content",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true
        },
        "recipients_notified": {
          "name": "recipients_notified",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "sns_message_id": {
          "name": "sns_message_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_status": {
          "name": "delivery_status",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "action_taken": {
          "name": "action_taken",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_alert_history_workspace": {
          "name": "idx_alert_history_workspace",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alert_history_triggered": {
          "name": "idx_alert_history_triggered",
          "columns": [
            {
              "expression": "triggered_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_history_workspace_id_workspaces_id_fk": {
          "name": "alert_history_workspace_id_workspaces_id_fk",
          "tableFrom": "alert_history",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alert_history_alert_config_id_alert_configs_id_fk": {
          "name": "alert_history_alert_config_id_alert_configs_id_fk",
          "tableFrom": "alert_history",
          "tableTo": "alert_configs",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "alert_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.batch_history": {
      "name": "batch_history",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "batch_number": {
          "name": "batch_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "chemical_name": {
          "name": "chemical_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "initial_concentration": {
          "name": "initial_concentration",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "desired_concentration": {
          "name": "desired_concentration",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "method_used": {
          "name": "method_used",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "initial_specific_gravity": {
          "name": "initial_specific_gravity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "total_volume_gallons": {
          "name": "total_volume_gallons",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "chemical_volume_gallons": {
          "name": "chemical_volume_gallons",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "water_volume_gallons": {
          "name": "water_volume_gallons",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "chemical_weight_lbs": {
          "name": "chemical_weight_lbs",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "water_weight_lbs": {
          "name": "water_weight_lbs",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "qr_code_id": {
          "name": "qr_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "destination_qr_ids": {
          "name": "destination_qr_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "batch_history_workspace_id_workspaces_id_fk": {
          "name": "batch_history_workspace_id_workspaces_id_fk",
          "tableFrom": "batch_history",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "batch_history_qr_code_id_qr_codes_id_fk": {
          "name": "batch_history_qr_code_id_qr_codes_id_fk",
          "tableFrom": "batch_history",
          "tableTo": "qr_codes",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "qr_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "batch_history_batch_number_unique": {
          "name": "batch_history_batch_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "batch_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.chemicals": {
      "name": "chemicals",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "alternate_names": {
          "name": "alternate_names",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "specific_gravity": {
          "name": "specific_gravity",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "initial_concentration": {
          "name": "initial_concentration",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "grade": {
          "name": "grade",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "grade_category": {
          "name": "grade_category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "hazard_class": {
          "name": "hazard_class",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ppe_suggestion": {
          "name": "ppe_suggestion",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_product_id": {
          "name": "shopify_product_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_title": {
          "name": "shopify_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_sku": {
          "name": "shopify_sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "chemicals_name_idx": {
          "name": "chemicals_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chemicals_grade_idx": {
          "name": "chemicals_grade_idx",
          "columns": [
            {
              "expression": "grade",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "chemicals_name_unique": {
          "name": "chemicals_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.container_types": {
      "name": "container_types",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "shopify_product_id": {
          "name": "shopify_product_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "shopify_variant_id": {
          "name": "shopify_variant_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "shopify_title": {
          "name": "shopify_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "shopify_variant_title": {
          "name": "shopify_variant_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_sku": {
          "name": "shopify_sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "container_material": {
          "name": "container_material",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'poly'"
        },
        "container_type": {
          "name": "container_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "capacity_unit": {
          "name": "capacity_unit",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'gallons'"
        },
        "length": {
          "name": "length",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "empty_weight": {
          "name": "empty_weight",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_gross_weight": {
          "name": "max_gross_weight",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "freight_class": {
          "name": "freight_class",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "nmfc_code": {
          "name": "nmfc_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "un_rating": {
          "name": "un_rating",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "hazmat_approved": {
          "name": "hazmat_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_stackable": {
          "name": "is_stackable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "max_stack_height": {
          "name": "max_stack_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_reusable": {
          "name": "is_reusable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "requires_liner": {
          "name": "requires_liner",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "container_types_shopify_product_idx": {
          "name": "container_types_shopify_product_idx",
          "columns": [
            {
              "expression": "shopify_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "container_types_shopify_variant_idx": {
          "name": "container_types_shopify_variant_idx",
          "columns": [
            {
              "expression": "shopify_variant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "container_types_material_idx": {
          "name": "container_types_material_idx",
          "columns": [
            {
              "expression": "container_material",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "container_types_type_idx": {
          "name": "container_types_type_idx",
          "columns": [
            {
              "expression": "container_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "container_types_shopify_variant_id_unique": {
          "name": "container_types_shopify_variant_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "shopify_variant_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.documents": {
      "name": "documents",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "document_name": {
          "name": "document_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "s3_bucket": {
          "name": "s3_bucket",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "s3_key": {
          "name": "s3_key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "s3_url": {
          "name": "s3_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_document_workspace": {
          "name": "idx_document_workspace",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_type": {
          "name": "idx_document_type",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_workspace_id_workspaces_id_fk": {
          "name": "documents_workspace_id_workspaces_id_fk",
          "tableFrom": "documents",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.label_requests": {
      "name": "label_requests",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "product_name": {
          "name": "product_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "sku": {
          "name": "sku",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "variant_option1": {
          "name": "variant_option1",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lot_number": {
          "name": "lot_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "label_type": {
          "name": "label_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'container'"
        },
        "custom_request": {
          "name": "custom_request",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "custom_details": {
          "name": "custom_details",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "urgent": {
          "name": "urgent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "printed_at": {
          "name": "printed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "printed_by": {
          "name": "printed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "legacy_id": {
          "name": "legacy_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "label_requests_product_idx": {
          "name": "label_requests_product_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "label_requests_status_idx": {
          "name": "label_requests_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "label_requests_requested_idx": {
          "name": "label_requests_requested_idx",
          "columns": [
            {
              "expression": "requested_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.lot_numbers": {
      "name": "lot_numbers",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "product_title": {
          "name": "product_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "'Default Title'"
        },
        "sku": {
          "name": "sku",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "lot_number": {
          "name": "lot_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_id": {
          "name": "legacy_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "lot_numbers_product_idx": {
          "name": "lot_numbers_product_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lot_numbers_lot_idx": {
          "name": "lot_numbers_lot_idx",
          "columns": [
            {
              "expression": "lot_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lot_numbers_year_month_idx": {
          "name": "lot_numbers_year_month_idx",
          "columns": [
            {
              "expression": "year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.qr_codes": {
      "name": "qr_codes",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "qr_type": {
          "name": "qr_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "qr_code": {
          "name": "qr_code",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "short_code": {
          "name": "short_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "container_number": {
          "name": "container_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chemical_name": {
          "name": "chemical_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "encoded_data": {
          "name": "encoded_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "qr_url": {
          "name": "qr_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "scan_count": {
          "name": "scan_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_scanned_at": {
          "name": "last_scanned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_scanned_by": {
          "name": "last_scanned_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "printed_at": {
          "name": "printed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "printed_by": {
          "name": "printed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "print_count": {
          "name": "print_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "label_size": {
          "name": "label_size",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "deactivated_at": {
          "name": "deactivated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deactivation_reason": {
          "name": "deactivation_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_qr_workspace_id": {
          "name": "idx_qr_workspace_id",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_qr_order_id": {
          "name": "idx_qr_order_id",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_qr_type": {
          "name": "idx_qr_type",
          "columns": [
            {
              "expression": "qr_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_qr_code": {
          "name": "idx_qr_code",
          "columns": [
            {
              "expression": "qr_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_qr_short_code_per_order": {
          "name": "idx_qr_short_code_per_order",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "short_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "qr_codes_workspace_id_workspaces_id_fk": {
          "name": "qr_codes_workspace_id_workspaces_id_fk",
          "tableFrom": "qr_codes",
          "tableTo": "workspaces",
          "schemaTo": "qr_workspace",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "qr_codes_qr_code_unique": {
          "name": "qr_codes_qr_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "qr_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "qr_workspace.workspaces": {
      "name": "workspaces",
      "schema": "qr_workspace",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "qr_print_count": {
          "name": "qr_print_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "workspace_url": {
          "name": "workspace_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "active_modules": {
          "name": "active_modules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"preMix\":true,\"warehouse\":true,\"documents\":true}'::jsonb"
        },
        "module_states": {
          "name": "module_states",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "current_users": {
          "name": "current_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "last_accessed": {
          "name": "last_accessed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "access_count": {
          "name": "access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_shipstation_sync": {
          "name": "last_shipstation_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "shipstation_data": {
          "name": "shipstation_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "shipstation_tags": {
          "name": "shipstation_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "sync_status": {
          "name": "sync_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "workflow_type": {
          "name": "workflow_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pump_and_fill'"
        },
        "workflow_phase": {
          "name": "workflow_phase",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pre_mix'"
        },
        "phase_completed_at": {
          "name": "phase_completed_at",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "final_measurements": {
          "name": "final_measurements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "shipped_at": {
          "name": "shipped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archive_scheduled_for": {
          "name": "archive_scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archive_s3_path": {
          "name": "archive_s3_path",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_workspace_order_id": {
          "name": "idx_workspace_order_id",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_order_number": {
          "name": "idx_workspace_order_number",
          "columns": [
            {
              "expression": "order_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_status": {
          "name": "idx_workspace_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workspace_archive": {
          "name": "idx_workspace_archive",
          "columns": [
            {
              "expression": "archive_scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspaces_order_id_unique": {
          "name": "workspaces_order_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "order_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "rag.document_relations": {
      "name": "document_relations",
      "schema": "rag",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "parent_document_id": {
          "name": "parent_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "child_document_id": {
          "name": "child_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "relation_type": {
          "name": "relation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "relation_strength": {
          "name": "relation_strength",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rag_rel_parent": {
          "name": "idx_rag_rel_parent",
          "columns": [
            {
              "expression": "parent_document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_rel_child": {
          "name": "idx_rag_rel_child",
          "columns": [
            {
              "expression": "child_document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_rel_type": {
          "name": "idx_rag_rel_type",
          "columns": [
            {
              "expression": "relation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_relations_parent_document_id_documents_id_fk": {
          "name": "document_relations_parent_document_id_documents_id_fk",
          "tableFrom": "document_relations",
          "tableTo": "documents",
          "schemaTo": "rag",
          "columnsFrom": [
            "parent_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_relations_child_document_id_documents_id_fk": {
          "name": "document_relations_child_document_id_documents_id_fk",
          "tableFrom": "document_relations",
          "tableTo": "documents",
          "schemaTo": "rag",
          "columnsFrom": [
            "child_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "rag.documents": {
      "name": "documents",
      "schema": "rag",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text_hash": {
          "name": "text_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'text-embedding-3-small'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "search_vector": {
          "name": "search_vector",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "base_relevance": {
          "name": "base_relevance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "click_count": {
          "name": "click_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "indexed_at": {
          "name": "indexed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_rag_embedding_hnsw": {
          "name": "idx_rag_embedding_hnsw",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        },
        "idx_rag_source": {
          "name": "idx_rag_source",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_un_number": {
          "name": "idx_rag_un_number",
          "columns": [
            {
              "expression": "(metadata->>'unNumber')",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_cas_number": {
          "name": "idx_rag_cas_number",
          "columns": [
            {
              "expression": "(metadata->>'casNumber')",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_hazard_class": {
          "name": "idx_rag_hazard_class",
          "columns": [
            {
              "expression": "(metadata->>'hazardClass')",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_cfr_section": {
          "name": "idx_rag_cfr_section",
          "columns": [
            {
              "expression": "(metadata->>'section')",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_sku": {
          "name": "idx_rag_sku",
          "columns": [
            {
              "expression": "(metadata->>'sku')",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_search_vector": {
          "name": "idx_rag_search_vector",
          "columns": [
            {
              "expression": "to_tsvector('english', \"search_vector\")",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_rag_text_hash": {
          "name": "idx_rag_text_hash",
          "columns": [
            {
              "expression": "text_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "rag.embedding_cache": {
      "name": "embedding_cache",
      "schema": "rag",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text_hash": {
          "name": "text_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'text-embedding-3-small'"
        },
        "hit_count": {
          "name": "hit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_rag_cache_hash": {
          "name": "idx_rag_cache_hash",
          "columns": [
            {
              "expression": "text_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_cache_expires": {
          "name": "idx_rag_cache_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_cache_hits": {
          "name": "idx_rag_cache_hits",
          "columns": [
            {
              "expression": "hit_count",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "embedding_cache_text_unique": {
          "name": "embedding_cache_text_unique",
          "nullsNotDistinct": false,
          "columns": [
            "text"
          ]
        },
        "embedding_cache_text_hash_unique": {
          "name": "embedding_cache_text_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "text_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "rag.query_history": {
      "name": "query_history",
      "schema": "rag",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "query": {
          "name": "query",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "query_embedding": {
          "name": "query_embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "query_intent": {
          "name": "query_intent",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entities": {
          "name": "entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "returned_document_ids": {
          "name": "returned_document_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "clicked_document_ids": {
          "name": "clicked_document_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "feedback_score": {
          "name": "feedback_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "search_time_ms": {
          "name": "search_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_results": {
          "name": "total_results",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rag_query_intent": {
          "name": "idx_rag_query_intent",
          "columns": [
            {
              "expression": "query_intent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_query_user": {
          "name": "idx_rag_query_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_query_session": {
          "name": "idx_rag_query_session",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rag_query_created": {
          "name": "idx_rag_query_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {
    "qr_workspace": "qr_workspace",
    "rag": "rag"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}